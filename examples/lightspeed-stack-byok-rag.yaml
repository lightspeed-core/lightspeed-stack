name: Lightspeed Core Service (LCS)
service:
  host: localhost
  port: 8080
  auth_enabled: false
  workers: 1
  color_log: true
  access_log: true
llama_stack:
  use_as_library_client: false
  url: http://localhost:8321
  api_key: xyzzy
user_data_collection:
  feedback_enabled: true
  feedback_storage: "/tmp/data/feedback"
  transcripts_enabled: true
  transcripts_storage: "/tmp/data/transcripts"
authentication:
  module: "noop"
quota_handlers:
  sqlite:
      db_path: quota.sqlite
  limiters:
    - name: user_monthly_limits
      type: user_limiter
      initial_quota: 50
      quota_increase: 50
      period: "30 seconds"
    - name: cluster_monthly_limits
      type: cluster_limiter
      initial_quota: 100
      quota_increase: 100
      period: "30 seconds"
  scheduler:
    # scheduler ticks in seconds
    period: 10
byok_rag:
  - rag_id: ocp_docs
    rag_type: inline::faiss
    embedding_dimension: 1024
    vector_db_id: vs_123 # Llama-stack vector_store_id
    db_path: /tmp/ocp.faiss
    score_multiplier: 1.0  # Weight for this vector store's results
  - rag_id: knowledge_base
    rag_type: inline::faiss
    embedding_dimension: 384
    vector_db_id: vs_456 # Llama-stack vector_store_id
    db_path: /tmp/kb.faiss
    score_multiplier: 1.2  # Weight for this vector store's results

# RAG configuration
rag:
  # Always RAG: context injected before every LLM response (no tool calls needed)
  # Supports both Solr and BYOK sources. Score multipliers apply here only.
  always:
    solr:
      enabled: false # Enable Solr OKP pre-query context injection
      offline: false # Controls how document URLs are built from Solr results
    byok:
      enabled: false # Enable BYOK pre-query context injection (weighted by score_multiplier)
  # Tool RAG: LLM calls file_search on demand to retrieve BYOK context
  # Note: Solr is not available in Tool RAG; score_multiplier does not apply here
  tool:
    byok:
      enabled: true # Enable BYOK vector stores as the file_search tool (default: true)